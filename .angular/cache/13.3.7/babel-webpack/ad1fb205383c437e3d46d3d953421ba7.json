{"ast":null,"code":"import { Directive, EventEmitter, HostListener, Input, Output, Injectable, Component, ViewChild, NgModule } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { __awaiter } from 'tslib';\nimport { CommonModule } from '@angular/common';\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common/http';\nimport * as ɵngcc2 from '@angular/common';\nconst _c0 = [\"input\"];\n\nconst _c1 = function (a0) {\n  return {\n    \"img-ul-disabled\": a0\n  };\n};\n\nfunction ImageUploadComponent_label_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"label\", 7);\n    ɵngcc0.ɵɵelement(1, \"span\", 8);\n    ɵngcc0.ɵɵelementStart(2, \"input\", 9, 10);\n    ɵngcc0.ɵɵlistener(\"change\", function ImageUploadComponent_label_2_Template_input_change_2_listener() {\n      ɵngcc0.ɵɵrestoreView(_r6);\n\n      const _r4 = ɵngcc0.ɵɵreference(3);\n\n      const ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ctx_r5.onFileChange(_r4.files);\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngStyle\", ctx_r0.style == null ? null : ctx_r0.style.selectButton)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(5, _c1, ctx_r0.disabled));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"innerText\", ctx_r0.buttonCaption);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"disabled\", ctx_r0.disabled)(\"accept\", ctx_r0.supportedExtensions);\n  }\n}\n\nfunction ImageUploadComponent_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"button\", 11);\n    ɵngcc0.ɵɵlistener(\"click\", function ImageUploadComponent_button_3_Template_button_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r8);\n      const ctx_r7 = ɵngcc0.ɵɵnextContext();\n      return ctx_r7.deleteAll();\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"disabled\", ctx_r1.disabled)(\"ngStyle\", ctx_r1.style == null ? null : ctx_r1.style.clearButton)(\"innerText\", ctx_r1.clearButtonCaption);\n  }\n}\n\nfunction ImageUploadComponent_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"p\", 12);\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"innerText\", ctx_r2.fileTooLargeMessage);\n  }\n}\n\nfunction ImageUploadComponent_div_6_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 18);\n    ɵngcc0.ɵɵelement(1, \"div\", 19);\n    ɵngcc0.ɵɵelementEnd();\n  }\n}\n\nfunction ImageUploadComponent_div_6_div_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 20);\n    ɵngcc0.ɵɵlistener(\"click\", function ImageUploadComponent_div_6_div_1_div_2_Template_div_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r15);\n      const file_r10 = ɵngcc0.ɵɵnextContext().$implicit;\n      const ctx_r13 = ɵngcc0.ɵɵnextContext(2);\n      return ctx_r13.deleteFile(file_r10);\n    });\n    ɵngcc0.ɵɵelement(1, \"span\", 21);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(1, _c1, ctx_r12.disabled));\n  }\n}\n\nconst _c2 = function (a0) {\n  return {\n    \"background-image\": a0\n  };\n};\n\nfunction ImageUploadComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 15);\n    ɵngcc0.ɵɵlistener(\"click\", function ImageUploadComponent_div_6_div_1_Template_div_click_0_listener() {\n      const restoredCtx = ɵngcc0.ɵɵrestoreView(_r17);\n      const file_r10 = restoredCtx.$implicit;\n      const ctx_r16 = ɵngcc0.ɵɵnextContext(2);\n      return ctx_r16.previewFileClicked(file_r10);\n    });\n    ɵngcc0.ɵɵtemplate(1, ImageUploadComponent_div_6_div_1_div_1_Template, 2, 0, \"div\", 16);\n    ɵngcc0.ɵɵtemplate(2, ImageUploadComponent_div_6_div_1_div_2_Template, 2, 3, \"div\", 17);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const file_r10 = ctx.$implicit;\n    ɵngcc0.ɵɵproperty(\"ngStyle\", ɵngcc0.ɵɵpureFunction1(3, _c2, \"url(\" + file_r10.src + \")\"));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r10.pending);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !file_r10.pending);\n  }\n}\n\nfunction ImageUploadComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 13);\n    ɵngcc0.ɵɵtemplate(1, ImageUploadComponent_div_6_div_1_Template, 3, 5, \"div\", 14);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngStyle\", ctx_r3.style == null ? null : ctx_r3.style.previewPanel);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r3.files);\n  }\n}\n\nconst _c3 = function (a0) {\n  return {\n    \"img-ul-file-is-over\": a0\n  };\n};\n\nlet FileDropDirective = /*#__PURE__*/(() => {\n  class FileDropDirective {\n    constructor() {\n      this.fileOver = new EventEmitter();\n      this.fileDrop = new EventEmitter();\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n\n    static getDataTransfer(event) {\n      return event.dataTransfer ? event.dataTransfer : event.originalEvent.dataTransfer;\n    }\n    /**\n     * @param {?} types\n     * @return {?}\n     */\n\n\n    static hasFiles(types) {\n      if (!types) {\n        return false;\n      }\n\n      if (types.indexOf) {\n        return types.indexOf('Files') !== -1;\n      }\n\n      if (types.contains) {\n        return types.contains('Files');\n      }\n\n      return false;\n    }\n    /**\n     * @param {?} rule\n     * @param {?} candidate\n     * @return {?}\n     */\n\n\n    static matchRule(rule, candidate) {\n      return new RegExp('^' + rule.split('*').join('.*') + '$').test(candidate);\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n\n    onDrop(event) {\n      /** @type {?} */\n      const dataTransfer = FileDropDirective.getDataTransfer(event);\n\n      if (!FileDropDirective.hasFiles(dataTransfer.types)) {\n        return;\n      }\n\n      event.preventDefault();\n      /** @type {?} */\n\n      const files = this.filterFiles(dataTransfer.files);\n      event.preventDefault();\n      this.fileOver.emit(false);\n      this.fileDrop.emit(files);\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n\n    onDragLeave(event) {\n      this.fileOver.emit(false);\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n\n    onDragOver(event) {\n      /** @type {?} */\n      const dataTransfer = FileDropDirective.getDataTransfer(event);\n\n      if (!FileDropDirective.hasFiles(dataTransfer.types)) {\n        return;\n      }\n\n      dataTransfer.dropEffect = 'copy';\n      event.preventDefault();\n      this.fileOver.emit(true);\n    }\n    /**\n     * @param {?} files\n     * @return {?}\n     */\n\n\n    filterFiles(files) {\n      if (!this.accept || this.accept.length === 0) {\n        return files;\n      }\n      /** @type {?} */\n\n\n      const acceptedFiles = [];\n\n      for (let i = 0; i < files.length; i++) {\n        for (let j = 0; j < this.accept.length; j++) {\n          if (FileDropDirective.matchRule(this.accept[j], files[i].type)) {\n            acceptedFiles.push(files[i]);\n            break;\n          }\n        }\n      }\n\n      return acceptedFiles;\n    }\n\n  }\n\n  FileDropDirective.ɵfac = function FileDropDirective_Factory(t) {\n    return new (t || FileDropDirective)();\n  };\n\n  FileDropDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: FileDropDirective,\n    selectors: [[\"\", \"fileDrop\", \"\"]],\n    hostBindings: function FileDropDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"drop\", function FileDropDirective_drop_HostBindingHandler($event) {\n          return ctx.onDrop($event);\n        })(\"dragleave\", function FileDropDirective_dragleave_HostBindingHandler($event) {\n          return ctx.onDragLeave($event);\n        })(\"dragover\", function FileDropDirective_dragover_HostBindingHandler($event) {\n          return ctx.onDragOver($event);\n        });\n      }\n    },\n    inputs: {\n      accept: \"accept\"\n    },\n    outputs: {\n      fileOver: \"fileOver\",\n      fileDrop: \"fileDrop\"\n    }\n  });\n  return FileDropDirective;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n\nlet ImageUploadService = /*#__PURE__*/(() => {\n  class ImageUploadService {\n    /**\n     * @param {?} http\n     */\n    constructor(http) {\n      this.http = http;\n    }\n    /**\n     * @param {?} url\n     * @param {?} image\n     * @param {?=} headers\n     * @param {?=} partName\n     * @param {?=} customFormData\n     * @param {?=} withCredentials\n     * @return {?}\n     */\n\n\n    uploadImage(url, image, headers, partName = 'image', customFormData, withCredentials) {\n      if (!url || url === '') {\n        throw new Error('Url is not set! Please set it before doing queries');\n      }\n      /** @type {?} */\n\n\n      const formData = new FormData();\n\n      if (customFormData) {\n        for (const key of Object.keys(customFormData)) {\n          formData.append(key, customFormData[key]);\n        }\n      }\n\n      formData.append(partName, image);\n      return this.http.post(url, formData, {\n        withCredentials,\n        headers,\n        observe: 'response'\n      });\n    }\n\n  }\n\n  ImageUploadService.ɵfac = function ImageUploadService_Factory(t) {\n    return new (t || ImageUploadService)(ɵngcc0.ɵɵinject(ɵngcc1.HttpClient));\n  };\n\n  ImageUploadService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n    token: ImageUploadService,\n    factory: ImageUploadService.ɵfac\n  });\n  /** @nocollapse */\n\n  return ImageUploadService;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n\nclass FileHolder {\n  /**\n   * @param {?} src\n   * @param {?} file\n   */\n  constructor(src, file) {\n    this.src = src;\n    this.file = file;\n    this.pending = false;\n  }\n\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n\nlet ImageUploadComponent = /*#__PURE__*/(() => {\n  class ImageUploadComponent {\n    /**\n     * @param {?} imageService\n     */\n    constructor(imageService) {\n      this.imageService = imageService;\n      this.files = [];\n      this.fileCounter = 0;\n      this.fileOver = false;\n      this.showFileTooLargeMessage = false;\n\n      this.beforeUpload = metadata => metadata;\n\n      this.buttonCaption = 'Select Images';\n      this.disabled = false;\n      this.cssClass = 'img-ul';\n      this.clearButtonCaption = 'Clear';\n      this.dropBoxMessage = 'Drop your images here!';\n      this.max = 100;\n      this.preview = true;\n      this.withCredentials = false;\n      this.uploadedFiles = [];\n      this.removed = new EventEmitter();\n      this.uploadStateChanged = new EventEmitter();\n      this.uploadFinished = new EventEmitter();\n      this.previewClicked = new EventEmitter();\n      this.pendingFilesCounter = 0;\n\n      this.onFileOver = isOver => this.fileOver = isOver;\n    }\n    /**\n     * @return {?}\n     */\n\n\n    ngOnInit() {\n      if (!this.fileTooLargeMessage) {\n        this.fileTooLargeMessage = 'An image was too large and was not uploaded.' + (this.maxFileSize ? ' The maximum file size is ' + this.maxFileSize / 1024 + 'KiB.' : '');\n      }\n\n      this.supportedExtensions = this.supportedExtensions ? this.supportedExtensions.map(ext => 'image/' + ext) : ['image/*'];\n    }\n    /**\n     * @return {?}\n     */\n\n\n    deleteAll() {\n      this.files.forEach(f => this.removed.emit(f));\n      this.files = [];\n      this.fileCounter = 0;\n\n      if (this.inputElement) {\n        this.inputElement.nativeElement.value = '';\n      }\n    }\n    /**\n     * @param {?} file\n     * @return {?}\n     */\n\n\n    deleteFile(file) {\n      /** @type {?} */\n      const index = this.files.indexOf(file);\n      this.files.splice(index, 1);\n      this.fileCounter--;\n\n      if (this.inputElement) {\n        this.inputElement.nativeElement.value = '';\n      }\n\n      this.removed.emit(file);\n    }\n    /**\n     * @param {?} file\n     * @return {?}\n     */\n\n\n    previewFileClicked(file) {\n      this.previewClicked.emit(file);\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n\n\n    ngOnChanges(changes) {\n      if (changes.uploadedFiles && changes.uploadedFiles.currentValue.length > 0) {\n        this.processUploadedFiles();\n      }\n    }\n    /**\n     * @param {?} files\n     * @return {?}\n     */\n\n\n    onFileChange(files) {\n      if (this.disabled) return;\n      /** @type {?} */\n\n      const remainingSlots = this.max - this.fileCounter;\n      /** @type {?} */\n\n      const filesToUploadNum = files.length > remainingSlots ? remainingSlots : files.length;\n\n      if (this.url && filesToUploadNum !== 0) {\n        this.uploadStateChanged.emit(true);\n      }\n\n      this.fileCounter += filesToUploadNum;\n      this.showFileTooLargeMessage = false;\n      this.uploadFiles(files, filesToUploadNum);\n    }\n    /**\n     * @param {?} response\n     * @param {?} fileHolder\n     * @return {?}\n     */\n\n\n    onResponse(response, fileHolder) {\n      fileHolder.serverResponse = {\n        status: response.status,\n        response\n      };\n      fileHolder.pending = false;\n      this.uploadFinished.emit(fileHolder);\n\n      if (--this.pendingFilesCounter === 0) {\n        this.uploadStateChanged.emit(false);\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n\n    processUploadedFiles() {\n      for (let i = 0; i < this.uploadedFiles.length; i++) {\n        /** @type {?} */\n        const data = this.uploadedFiles[i];\n        /** @type {?} */\n\n        let fileBlob;\n        /** @type {?} */\n\n        let file;\n        /** @type {?} */\n\n        let fileUrl;\n\n        if (data instanceof Object) {\n          fileUrl = data.url;\n          fileBlob = data.blob ? data.blob : new Blob([data]);\n          file = new File([fileBlob], data.fileName);\n        } else {\n          fileUrl = data;\n          fileBlob = new Blob([fileUrl]);\n          file = new File([fileBlob], fileUrl);\n        }\n\n        this.files.push(new FileHolder(fileUrl, file));\n      }\n    }\n    /**\n     * @param {?} files\n     * @param {?} filesToUploadNum\n     * @return {?}\n     */\n\n\n    uploadFiles(files, filesToUploadNum) {\n      return __awaiter(this, void 0, void 0, function* () {\n        for (let i = 0; i < filesToUploadNum; i++) {\n          /** @type {?} */\n          const file = files[i];\n\n          if (this.maxFileSize && file.size > this.maxFileSize) {\n            this.fileCounter--;\n            this.inputElement.nativeElement.value = '';\n            this.showFileTooLargeMessage = true;\n            this.uploadStateChanged.emit(false);\n            continue;\n          }\n          /** @type {?} */\n\n\n          const beforeUploadResult = yield this.beforeUpload({\n            file,\n            url: this.url,\n            abort: false\n          });\n\n          if (beforeUploadResult.abort) {\n            this.fileCounter--;\n            this.inputElement.nativeElement.value = '';\n            continue;\n          }\n          /** @type {?} */\n\n\n          const img =\n          /** @type {?} */\n          document.createElement('img');\n          img.src = window.URL.createObjectURL(beforeUploadResult.file);\n          /** @type {?} */\n\n          const reader = new FileReader();\n          reader.addEventListener('load', event => {\n            /** @type {?} */\n            const fileHolder = new FileHolder(event.target.result, beforeUploadResult.file);\n            this.files.push(fileHolder);\n            this.uploadSingleFile(fileHolder, beforeUploadResult.url, beforeUploadResult.formData);\n          }, false);\n          reader.readAsDataURL(beforeUploadResult.file);\n        }\n      });\n    }\n    /**\n     * @param {?} fileHolder\n     * @param {?=} url\n     * @param {?=} customForm\n     * @return {?}\n     */\n\n\n    uploadSingleFile(fileHolder, url = this.url, customForm) {\n      if (url) {\n        this.pendingFilesCounter++;\n        fileHolder.pending = true;\n        this.imageService.uploadImage(url, fileHolder.file, this.headers, this.partName, customForm, this.withCredentials).subscribe(response => this.onResponse(response, fileHolder), error => {\n          this.onResponse(error, fileHolder);\n          this.deleteFile(fileHolder);\n        });\n      } else {\n        this.uploadFinished.emit(fileHolder);\n      }\n    }\n\n  }\n\n  ImageUploadComponent.ɵfac = function ImageUploadComponent_Factory(t) {\n    return new (t || ImageUploadComponent)(ɵngcc0.ɵɵdirectiveInject(ImageUploadService));\n  };\n\n  ImageUploadComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: ImageUploadComponent,\n    selectors: [[\"image-upload\"]],\n    viewQuery: function ImageUploadComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.inputElement = _t.first);\n      }\n    },\n    inputs: {\n      beforeUpload: \"beforeUpload\",\n      buttonCaption: \"buttonCaption\",\n      disabled: \"disabled\",\n      cssClass: [\"class\", \"cssClass\"],\n      clearButtonCaption: \"clearButtonCaption\",\n      dropBoxMessage: \"dropBoxMessage\",\n      max: \"max\",\n      preview: \"preview\",\n      withCredentials: \"withCredentials\",\n      uploadedFiles: \"uploadedFiles\",\n      fileTooLargeMessage: \"fileTooLargeMessage\",\n      supportedExtensions: [\"extensions\", \"supportedExtensions\"],\n      headers: \"headers\",\n      maxFileSize: \"maxFileSize\",\n      partName: \"partName\",\n      style: \"style\",\n      url: \"url\"\n    },\n    outputs: {\n      removed: \"removed\",\n      uploadStateChanged: \"uploadStateChanged\",\n      uploadFinished: \"uploadFinished\",\n      previewClicked: \"previewClicked\"\n    },\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    decls: 7,\n    vars: 11,\n    consts: [[\"fileDrop\", \"\", 3, \"accept\", \"ngClass\", \"ngStyle\", \"fileOver\", \"fileDrop\"], [1, \"img-ul-file-upload\", \"img-ul-hr-inline-group\"], [\"class\", \"img-ul-upload img-ul-button\", 3, \"ngStyle\", \"ngClass\", 4, \"ngIf\"], [\"class\", \"img-ul-clear img-ul-button\", 3, \"disabled\", \"ngStyle\", \"innerText\", \"click\", 4, \"ngIf\"], [1, \"img-ul-drag-box-msg\", 3, \"innerText\"], [\"class\", \"img-ul-file-too-large\", 3, \"innerText\", 4, \"ngIf\"], [\"class\", \"img-ul-container img-ul-hr-inline-group\", 3, \"ngStyle\", 4, \"ngIf\"], [1, \"img-ul-upload\", \"img-ul-button\", 3, \"ngStyle\", \"ngClass\"], [3, \"innerText\"], [\"type\", \"file\", \"multiple\", \"\", 3, \"disabled\", \"accept\", \"change\"], [\"input\", \"\"], [1, \"img-ul-clear\", \"img-ul-button\", 3, \"disabled\", \"ngStyle\", \"innerText\", \"click\"], [1, \"img-ul-file-too-large\", 3, \"innerText\"], [1, \"img-ul-container\", \"img-ul-hr-inline-group\", 3, \"ngStyle\"], [\"class\", \"img-ul-image\", 3, \"ngStyle\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"img-ul-image\", 3, \"ngStyle\", \"click\"], [\"class\", \"img-ul-loading-overlay\", 4, \"ngIf\"], [\"class\", \"img-ul-x-mark\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [1, \"img-ul-loading-overlay\"], [1, \"img-ul-spinning-circle\"], [1, \"img-ul-x-mark\", 3, \"ngClass\", \"click\"], [1, \"img-ul-close\"]],\n    template: function ImageUploadComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵlistener(\"fileOver\", function ImageUploadComponent_Template_div_fileOver_0_listener($event) {\n          return ctx.onFileOver($event);\n        })(\"fileDrop\", function ImageUploadComponent_Template_div_fileDrop_0_listener($event) {\n          return ctx.onFileChange($event);\n        });\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵtemplate(2, ImageUploadComponent_label_2_Template, 4, 7, \"label\", 2);\n        ɵngcc0.ɵɵtemplate(3, ImageUploadComponent_button_3_Template, 1, 3, \"button\", 3);\n        ɵngcc0.ɵɵelement(4, \"div\", 4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(5, ImageUploadComponent_p_5_Template, 1, 1, \"p\", 5);\n        ɵngcc0.ɵɵtemplate(6, ImageUploadComponent_div_6_Template, 2, 2, \"div\", 6);\n        ɵngcc0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"accept\", ctx.supportedExtensions)(\"ngClass\", ctx.cssClass)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(9, _c3, ctx.fileOver))(\"ngStyle\", ctx.style == null ? null : ctx.style.layout);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.fileCounter != ctx.max);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.fileCounter > 0);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"innerText\", ctx.dropBoxMessage);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showFileTooLargeMessage);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.preview);\n      }\n    },\n    directives: [FileDropDirective, ɵngcc2.NgClass, ɵngcc2.NgStyle, ɵngcc2.NgIf, ɵngcc2.NgForOf],\n    styles: [\".img-ul[_ngcontent-%COMP%]{--active-color:#3C9;--common-radius:3px;background-color:#f8f8f8;border-radius:var(--common-radius);border:1px dashed #d0d0d0;font-family:sans-serif;position:relative;color:#9b9b9b}.img-ul-file-is-over[_ngcontent-%COMP%]{border:var(--active-color) solid}.img-ul-hr-inline-group[_ngcontent-%COMP%]:after{clear:both;content:\\\"\\\";display:table}.img-ul-file-upload[_ngcontent-%COMP%]{padding:16px}.img-ul-drag-box-msg[_ngcontent-%COMP%]{display:inline-block;font-weight:600;margin-left:12px;padding-top:14px}label.img-ul-button[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none;position:fixed;top:-99999px}.img-ul-clear[_ngcontent-%COMP%]{background-color:red}.img-ul-clear[_ngcontent-%COMP%]:disabled{background-color:#ff6464;cursor:default}.img-ul-upload[_ngcontent-%COMP%]{background-color:var(--active-color)}.img-ul-button[_ngcontent-%COMP%]{-moz-box-shadow:2px 2px 4px 0 rgba(148,148,148,.6);-webkit-box-shadow:2px 2px 4px 0 rgba(148,148,148,.6);border:none;box-shadow:2px 2px 4px 0 rgba(148,148,148,.6);color:#fff;cursor:pointer;display:inline-block;float:left;font-size:1.25em;font-weight:500;padding:10px;text-transform:uppercase}.img-ul-button[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%]{display:block;position:relative;top:1px}.img-ul-container[_ngcontent-%COMP%]{background-color:#fdfdfd;padding:0 10px}.img-ul-image[_ngcontent-%COMP%]{background:center center/contain no-repeat;display:inline-block;float:left;height:86px;margin:6px;position:relative;width:86px}.img-ul-x-mark[_ngcontent-%COMP%]{background-color:#000;border-radius:2px;color:#fff;cursor:pointer;float:right;height:20px;margin:2px;opacity:.7;text-align:center;width:20px}.img-ul-close[_ngcontent-%COMP%]{height:20px;opacity:.7;padding-right:3px;position:relative;width:20px}.img-ul-x-mark[_ngcontent-%COMP%]:hover   .img-ul-close[_ngcontent-%COMP%]{opacity:1}.img-ul-close[_ngcontent-%COMP%]:after, .img-ul-close[_ngcontent-%COMP%]:before{background-color:#fff;border-radius:2px;content:'';height:15px;position:absolute;top:0;width:2px}.img-ul-close[_ngcontent-%COMP%]:before{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.img-ul-close[_ngcontent-%COMP%]:after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.img-ul-x-mark.img-ul-disabled[_ngcontent-%COMP%]{display:none}.img-ul-loading-overlay[_ngcontent-%COMP%]{background-color:#000;bottom:0;left:0;opacity:.7;position:absolute;right:0;top:0}.img-ul-spinning-circle[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;position:absolute;top:0;left:0;bottom:0;right:0;border-radius:50%;border:3px solid rgba(255,255,255,0);border-top:3px solid #fff;border-right:3px solid #fff;-webkit-animation:2s cubic-bezier(.085,.625,.855,.36) infinite spinner;animation:2s cubic-bezier(.085,.625,.855,.36) infinite spinner}.img-ul-file-too-large[_ngcontent-%COMP%]{color:red;padding:0 15px}.img-ul-upload.img-ul-disabled[_ngcontent-%COMP%]{background-color:#86e9c9;cursor:default}.img-ul-upload.img-ul-disabled[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%]{top:0}@-webkit-keyframes spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}\"]\n  });\n  /** @nocollapse */\n\n  return ImageUploadComponent;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n\nlet ImageUploadModule = /*#__PURE__*/(() => {\n  class ImageUploadModule {\n    /**\n     * @return {?}\n     */\n    static forRoot() {\n      return {\n        ngModule: ImageUploadModule,\n        providers: [ImageUploadService]\n      };\n    }\n\n  }\n\n  ImageUploadModule.ɵfac = function ImageUploadModule_Factory(t) {\n    return new (t || ImageUploadModule)();\n  };\n\n  ImageUploadModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: ImageUploadModule\n  });\n  ImageUploadModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return ImageUploadModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ImageUploadModule, {\n    declarations: function () {\n      return [ImageUploadComponent, FileDropDirective];\n    },\n    imports: function () {\n      return [CommonModule];\n    },\n    exports: function () {\n      return [ImageUploadComponent];\n    }\n  });\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n\nexport { ImageUploadModule, ImageUploadComponent, FileHolder, FileDropDirective as ɵb, ImageUploadService as ɵa }; //# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItaW1hZ2UtdXBsb2FkLmpzIiwic291cmNlcyI6WyJhbmd1bGFyMi1pbWFnZS11cGxvYWQvbGliL2ZpbGUtZHJvcC5kaXJlY3RpdmUudHMiLCJhbmd1bGFyMi1pbWFnZS11cGxvYWQvbGliL2ltYWdlLXVwbG9hZC5zZXJ2aWNlLnRzIiwiYW5ndWxhcjItaW1hZ2UtdXBsb2FkL2xpYi9maWxlLWhvbGRlci50cyIsImFuZ3VsYXIyLWltYWdlLXVwbG9hZC9saWIvaW1hZ2UtdXBsb2FkL2ltYWdlLXVwbG9hZC5jb21wb25lbnQudHMiLCJhbmd1bGFyMi1pbWFnZS11cGxvYWQvbGliL2ltYWdlLXVwbG9hZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFLYSxpQkFBaUI7QUFDOUIsSUFKQTtBQUNHLFFBSVMsYUFBUSxHQUEwQixJQUFJLFlBQVksRUFBVyxDQUFDO0FBQzFFLFFBQVksYUFBUSxHQUEyQixJQUFJLFlBQVksRUFBWSxDQUFDO0FBQzVFLEtBOEVDO0FBQ0Q7QUFBUTtBQUF3QjtBQUFtQjtBQUFRLElBOUVqRCxPQUFPLGVBQWUsQ0FBQyxLQUFVO0FBQUksUUFDM0MsT0FBTyxLQUFLLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUM7QUFDdEYsS0FBRztBQUNIO0FBQ087QUFBd0I7QUFDOUI7QUFBUSxJQURDLE9BQU8sUUFBUSxDQUFDLEtBQVU7QUFBSSxRQUNwQyxJQUFJLENBQUMsS0FBSyxFQUFFO0FBQ2hCLFlBQU0sT0FBTyxLQUFLLENBQUM7QUFDbkIsU0FBSztBQUNMLFFBQ0ksSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFO0FBQ3ZCLFlBQU0sT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLE9B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QUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFwRkEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQTBCQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBaUJBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFLQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFDeERBLEFBS0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUExQkEsQUFBQSxBQUpBLEFBQUEsQUNFQSxBQUFBLEFBQUEsQUFJQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFIQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBSUEsQUFDQSxBQ0lBLEFBQUEsQUFnQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQS9CQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBS0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUlBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUF3REEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBckRBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBSUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBL0tBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBUkEsQUFBQSxBQWVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUN4Q0EsQUFjQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBZEEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlyZWN0aXZlLCBFdmVudEVtaXR0ZXIsIEhvc3RMaXN0ZW5lciwgSW5wdXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbZmlsZURyb3BdJ1xufSlcbmV4cG9ydCBjbGFzcyBGaWxlRHJvcERpcmVjdGl2ZSB7XG4gIEBJbnB1dCgpIGFjY2VwdDogc3RyaW5nW107XG4gIEBPdXRwdXQoKSBmaWxlT3ZlcjogRXZlbnRFbWl0dGVyPGJvb2xlYW4+ID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xuICBAT3V0cHV0KCkgZmlsZURyb3A6IEV2ZW50RW1pdHRlcjxGaWxlTGlzdD4gPSBuZXcgRXZlbnRFbWl0dGVyPEZpbGVMaXN0PigpO1xuXG4gIHByaXZhdGUgc3RhdGljIGdldERhdGFUcmFuc2ZlcihldmVudDogYW55KTogRGF0YVRyYW5zZmVyIHtcbiAgICByZXR1cm4gZXZlbnQuZGF0YVRyYW5zZmVyID8gZXZlbnQuZGF0YVRyYW5zZmVyIDogZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXI7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBoYXNGaWxlcyh0eXBlczogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKCF0eXBlcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0eXBlcy5pbmRleE9mKSB7XG4gICAgICByZXR1cm4gdHlwZXMuaW5kZXhPZignRmlsZXMnKSAhPT0gLTE7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVzLmNvbnRhaW5zKSB7XG4gICAgICByZXR1cm4gdHlwZXMuY29udGFpbnMoJ0ZpbGVzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgbWF0Y2hSdWxlKHJ1bGU6IHN0cmluZywgY2FuZGlkYXRlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBydWxlLnNwbGl0KCcqJykuam9pbignLionKSArICckJykudGVzdChjYW5kaWRhdGUpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZHJvcCcsIFsnJGV2ZW50J10pXG4gIG9uRHJvcChldmVudDogYW55KSB7XG4gICAgY29uc3QgZGF0YVRyYW5zZmVyID0gRmlsZURyb3BEaXJlY3RpdmUuZ2V0RGF0YVRyYW5zZmVyKGV2ZW50KTtcblxuICAgIGlmICghRmlsZURyb3BEaXJlY3RpdmUuaGFzRmlsZXMoZGF0YVRyYW5zZmVyLnR5cGVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBmaWxlcyA9IHRoaXMuZmlsdGVyRmlsZXMoZGF0YVRyYW5zZmVyLmZpbGVzKTtcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5maWxlT3Zlci5lbWl0KGZhbHNlKTtcbiAgICB0aGlzLmZpbGVEcm9wLmVtaXQoZmlsZXMpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZHJhZ2xlYXZlJywgWyckZXZlbnQnXSlcbiAgb25EcmFnTGVhdmUoZXZlbnQpIHtcbiAgICB0aGlzLmZpbGVPdmVyLmVtaXQoZmFsc2UpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZHJhZ292ZXInLCBbJyRldmVudCddKVxuICBvbkRyYWdPdmVyKGV2ZW50OiBhbnkpIHtcbiAgICBjb25zdCBkYXRhVHJhbnNmZXIgPSBGaWxlRHJvcERpcmVjdGl2ZS5nZXREYXRhVHJhbnNmZXIoZXZlbnQpO1xuXG4gICAgaWYgKCFGaWxlRHJvcERpcmVjdGl2ZS5oYXNGaWxlcyhkYXRhVHJhbnNmZXIudHlwZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmZpbGVPdmVyLmVtaXQodHJ1ZSk7XG4gIH1cblxuICBwcml2YXRlIGZpbHRlckZpbGVzKGZpbGVzOiBGaWxlTGlzdCk6IGFueSB7XG4gICAgaWYgKCF0aGlzLmFjY2VwdCB8fCB0aGlzLmFjY2VwdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmaWxlcztcbiAgICB9XG5cbiAgICBjb25zdCBhY2NlcHRlZEZpbGVzOiBGaWxlW10gPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5hY2NlcHQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKEZpbGVEcm9wRGlyZWN0aXZlLm1hdGNoUnVsZSh0aGlzLmFjY2VwdFtqXSwgZmlsZXNbaV0udHlwZSkpIHtcbiAgICAgICAgICBhY2NlcHRlZEZpbGVzLnB1c2goZmlsZXNbaV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjY2VwdGVkRmlsZXM7XG4gIH1cbn1cbiIsImltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBIZWFkZXJzLCBIdHRwUmVzcG9uc2UgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBJbWFnZVVwbG9hZFNlcnZpY2Uge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGh0dHA6IEh0dHBDbGllbnQpIHtcbiAgfVxuXG4gIHB1YmxpYyB1cGxvYWRJbWFnZSh1cmw6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBGaWxlLFxuICAgICAgICAgICAgICAgICAgICAgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbbmFtZTogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW10gfSxcbiAgICAgICAgICAgICAgICAgICAgIHBhcnROYW1lOiBzdHJpbmcgPSAnaW1hZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgY3VzdG9tRm9ybURhdGE/OiB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IEJsb2IgfSxcbiAgICAgICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxhbnk+PiB7XG4gICAgaWYgKCF1cmwgfHwgdXJsID09PSAnJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVcmwgaXMgbm90IHNldCEgUGxlYXNlIHNldCBpdCBiZWZvcmUgZG9pbmcgcXVlcmllcycpO1xuICAgIH1cblxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICBpZiAoY3VzdG9tRm9ybURhdGEpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGN1c3RvbUZvcm1EYXRhKSkge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCBjdXN0b21Gb3JtRGF0YVtrZXldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3JtRGF0YS5hcHBlbmQocGFydE5hbWUsIGltYWdlKTtcblxuICAgIHJldHVybiB0aGlzLmh0dHAucG9zdCh1cmwsIGZvcm1EYXRhLCB7IHdpdGhDcmVkZW50aWFscywgaGVhZGVycywgb2JzZXJ2ZTogJ3Jlc3BvbnNlJyB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSHR0cFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5leHBvcnQgY2xhc3MgRmlsZUhvbGRlciB7XG4gIHB1YmxpYyBwZW5kaW5nID0gZmFsc2U7XG4gIHB1YmxpYyBzZXJ2ZXJSZXNwb25zZTogeyBzdGF0dXM6IG51bWJlciwgcmVzcG9uc2U6IEh0dHBSZXNwb25zZTxhbnk+IH07XG5cbiAgY29uc3RydWN0b3IocHVibGljIHNyYzogc3RyaW5nLCBwdWJsaWMgZmlsZTogRmlsZSkge1xuICB9XG59XG4iLCJpbXBvcnQgeyBIdHRwSGVhZGVycywgSHR0cFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkNoYW5nZXMsIE9uSW5pdCwgT3V0cHV0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZpbGVIb2xkZXIgfSBmcm9tICcuLi9maWxlLWhvbGRlcic7XG5pbXBvcnQgeyBJbWFnZVVwbG9hZFNlcnZpY2UgfSBmcm9tICcuLi9pbWFnZS11cGxvYWQuc2VydmljZSc7XG5pbXBvcnQgeyBTdHlsZSB9IGZyb20gJy4uL3N0eWxlJztcbmltcG9ydCB7IFVwbG9hZE1ldGFkYXRhIH0gZnJvbSAnLi4vdXBsb2FkLW1ldGFkYXRhJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnaW1hZ2UtdXBsb2FkJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2ltYWdlLXVwbG9hZC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2ltYWdlLXVwbG9hZC5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgSW1hZ2VVcGxvYWRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcyB7XG4gIGZpbGVzOiBGaWxlSG9sZGVyW10gPSBbXTtcbiAgZmlsZUNvdW50ZXIgPSAwO1xuICBmaWxlT3ZlciA9IGZhbHNlO1xuICBzaG93RmlsZVRvb0xhcmdlTWVzc2FnZSA9IGZhbHNlO1xuXG4gIEBJbnB1dCgpIGJlZm9yZVVwbG9hZDogKG1ldGFkYXRhOiBVcGxvYWRNZXRhZGF0YSkgPT4gVXBsb2FkTWV0YWRhdGEgfCBQcm9taXNlPFVwbG9hZE1ldGFkYXRhPiA9IG1ldGFkYXRhID0+IG1ldGFkYXRhO1xuICBASW5wdXQoKSBidXR0b25DYXB0aW9uID0gJ1NlbGVjdCBJbWFnZXMnO1xuICBASW5wdXQoKSBkaXNhYmxlZCA9IGZhbHNlO1xuICBASW5wdXQoJ2NsYXNzJykgY3NzQ2xhc3MgPSAnaW1nLXVsJztcbiAgQElucHV0KCkgY2xlYXJCdXR0b25DYXB0aW9uID0gJ0NsZWFyJztcbiAgQElucHV0KCkgZHJvcEJveE1lc3NhZ2UgPSAnRHJvcCB5b3VyIGltYWdlcyBoZXJlISc7XG4gIEBJbnB1dCgpIGZpbGVUb29MYXJnZU1lc3NhZ2U6IHN0cmluZztcbiAgQElucHV0KCkgaGVhZGVyczogSHR0cEhlYWRlcnMgfCB7IFtuYW1lOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXSB9O1xuICBASW5wdXQoKSBtYXggPSAxMDA7XG4gIEBJbnB1dCgpIG1heEZpbGVTaXplOiBudW1iZXI7XG4gIEBJbnB1dCgpIHByZXZpZXcgPSB0cnVlO1xuICBASW5wdXQoKSBwYXJ0TmFtZTogc3RyaW5nO1xuICBASW5wdXQoKSBzdHlsZTogU3R5bGU7XG4gIEBJbnB1dCgnZXh0ZW5zaW9ucycpIHN1cHBvcnRlZEV4dGVuc2lvbnM6IHN0cmluZ1tdO1xuICBASW5wdXQoKSB1cmw6IHN0cmluZztcbiAgQElucHV0KCkgd2l0aENyZWRlbnRpYWxzID0gZmFsc2U7XG4gIEBJbnB1dCgpIHVwbG9hZGVkRmlsZXM6IHN0cmluZ1tdIHwgQXJyYXk8eyB1cmw6IHN0cmluZywgZmlsZU5hbWU6IHN0cmluZywgYmxvYj86IEJsb2IgfT4gPSBbXTtcbiAgQE91dHB1dCgpIHJlbW92ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPEZpbGVIb2xkZXI+KCk7XG4gIEBPdXRwdXQoKSB1cGxvYWRTdGF0ZUNoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGJvb2xlYW4+KCk7XG4gIEBPdXRwdXQoKSB1cGxvYWRGaW5pc2hlZCA9IG5ldyBFdmVudEVtaXR0ZXI8RmlsZUhvbGRlcj4oKTtcbiAgQE91dHB1dCgpIHByZXZpZXdDbGlja2VkID0gbmV3IEV2ZW50RW1pdHRlcjxGaWxlSG9sZGVyPigpO1xuXG4gIEBWaWV3Q2hpbGQoJ2lucHV0JylcbiAgcHJpdmF0ZSBpbnB1dEVsZW1lbnQ6IEVsZW1lbnRSZWY7XG4gIHByaXZhdGUgcGVuZGluZ0ZpbGVzQ291bnRlciA9IDA7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBpbWFnZVNlcnZpY2U6IEltYWdlVXBsb2FkU2VydmljZSkge1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgaWYgKCF0aGlzLmZpbGVUb29MYXJnZU1lc3NhZ2UpIHtcbiAgICAgIHRoaXMuZmlsZVRvb0xhcmdlTWVzc2FnZSA9ICdBbiBpbWFnZSB3YXMgdG9vIGxhcmdlIGFuZCB3YXMgbm90IHVwbG9hZGVkLicgKyAodGhpcy5tYXhGaWxlU2l6ZSA/ICgnIFRoZSBtYXhpbXVtIGZpbGUgc2l6ZSBpcyAnICsgdGhpcy5tYXhGaWxlU2l6ZSAvIDEwMjQpICsgJ0tpQi4nIDogJycpO1xuICAgIH1cbiAgICB0aGlzLnN1cHBvcnRlZEV4dGVuc2lvbnMgPSB0aGlzLnN1cHBvcnRlZEV4dGVuc2lvbnMgPyB0aGlzLnN1cHBvcnRlZEV4dGVuc2lvbnMubWFwKChleHQpID0+ICdpbWFnZS8nICsgZXh0KSA6IFsnaW1hZ2UvKiddO1xuICB9XG5cbiAgZGVsZXRlQWxsKCkge1xuICAgIHRoaXMuZmlsZXMuZm9yRWFjaChmID0+IHRoaXMucmVtb3ZlZC5lbWl0KGYpKTtcbiAgICB0aGlzLmZpbGVzID0gW107XG4gICAgdGhpcy5maWxlQ291bnRlciA9IDA7XG4gICAgaWYgKHRoaXMuaW5wdXRFbGVtZW50KSB7XG4gICAgICB0aGlzLmlucHV0RWxlbWVudC5uYXRpdmVFbGVtZW50LnZhbHVlID0gJyc7XG4gICAgfVxuICB9XG5cbiAgZGVsZXRlRmlsZShmaWxlOiBGaWxlSG9sZGVyKTogdm9pZCB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZpbGVzLmluZGV4T2YoZmlsZSk7XG4gICAgdGhpcy5maWxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHRoaXMuZmlsZUNvdW50ZXItLTtcbiAgICBpZiAodGhpcy5pbnB1dEVsZW1lbnQpIHtcbiAgICAgIHRoaXMuaW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQudmFsdWUgPSAnJztcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVkLmVtaXQoZmlsZSk7XG4gIH1cblxuICBwcmV2aWV3RmlsZUNsaWNrZWQoZmlsZTogRmlsZUhvbGRlcikge1xuICAgIHRoaXMucHJldmlld0NsaWNrZWQuZW1pdChmaWxlKTtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICBpZiAoY2hhbmdlcy51cGxvYWRlZEZpbGVzICYmIGNoYW5nZXMudXBsb2FkZWRGaWxlcy5jdXJyZW50VmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5wcm9jZXNzVXBsb2FkZWRGaWxlcygpO1xuICAgIH1cbiAgfVxuXG4gIG9uRmlsZUNoYW5nZShmaWxlczogRmlsZUxpc3QpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgcmVtYWluaW5nU2xvdHMgPSB0aGlzLm1heCAtIHRoaXMuZmlsZUNvdW50ZXI7XG4gICAgY29uc3QgZmlsZXNUb1VwbG9hZE51bSA9IGZpbGVzLmxlbmd0aCA+IHJlbWFpbmluZ1Nsb3RzID8gcmVtYWluaW5nU2xvdHMgOiBmaWxlcy5sZW5ndGg7XG5cbiAgICBpZiAodGhpcy51cmwgJiYgZmlsZXNUb1VwbG9hZE51bSAhPT0gMCkge1xuICAgICAgdGhpcy51cGxvYWRTdGF0ZUNoYW5nZWQuZW1pdCh0cnVlKTtcbiAgICB9XG5cbiAgICB0aGlzLmZpbGVDb3VudGVyICs9IGZpbGVzVG9VcGxvYWROdW07XG4gICAgdGhpcy5zaG93RmlsZVRvb0xhcmdlTWVzc2FnZSA9IGZhbHNlO1xuICAgIHRoaXMudXBsb2FkRmlsZXMoZmlsZXMsIGZpbGVzVG9VcGxvYWROdW0pO1xuICB9XG5cbiAgb25GaWxlT3ZlciA9IChpc092ZXIpID0+IHRoaXMuZmlsZU92ZXIgPSBpc092ZXI7XG5cbiAgcHJpdmF0ZSBvblJlc3BvbnNlKHJlc3BvbnNlOiBIdHRwUmVzcG9uc2U8YW55PiwgZmlsZUhvbGRlcjogRmlsZUhvbGRlcikge1xuICAgIGZpbGVIb2xkZXIuc2VydmVyUmVzcG9uc2UgPSB7IHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZSB9O1xuICAgIGZpbGVIb2xkZXIucGVuZGluZyA9IGZhbHNlO1xuXG4gICAgdGhpcy51cGxvYWRGaW5pc2hlZC5lbWl0KGZpbGVIb2xkZXIpO1xuXG4gICAgaWYgKC0tdGhpcy5wZW5kaW5nRmlsZXNDb3VudGVyID09PSAwKSB7XG4gICAgICB0aGlzLnVwbG9hZFN0YXRlQ2hhbmdlZC5lbWl0KGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHByb2Nlc3NVcGxvYWRlZEZpbGVzKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy51cGxvYWRlZEZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBkYXRhOiBhbnkgPSB0aGlzLnVwbG9hZGVkRmlsZXNbaV07XG5cbiAgICAgIGxldCBmaWxlQmxvYjogQmxvYixcbiAgICAgICAgZmlsZTogRmlsZSxcbiAgICAgICAgZmlsZVVybDogc3RyaW5nO1xuXG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICBmaWxlVXJsID0gZGF0YS51cmw7XG4gICAgICAgIGZpbGVCbG9iID0gKGRhdGEuYmxvYikgPyBkYXRhLmJsb2IgOiBuZXcgQmxvYihbZGF0YV0pO1xuICAgICAgICBmaWxlID0gbmV3IEZpbGUoW2ZpbGVCbG9iXSwgZGF0YS5maWxlTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWxlVXJsID0gZGF0YTtcbiAgICAgICAgZmlsZUJsb2IgPSBuZXcgQmxvYihbZmlsZVVybF0pO1xuICAgICAgICBmaWxlID0gbmV3IEZpbGUoW2ZpbGVCbG9iXSwgZmlsZVVybCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZmlsZXMucHVzaChuZXcgRmlsZUhvbGRlcihmaWxlVXJsLCBmaWxlKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB1cGxvYWRGaWxlcyhmaWxlczogRmlsZUxpc3QsIGZpbGVzVG9VcGxvYWROdW06IG51bWJlcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXNUb1VwbG9hZE51bTsgaSsrKSB7XG4gICAgICBjb25zdCBmaWxlID0gZmlsZXNbaV07XG5cbiAgICAgIGlmICh0aGlzLm1heEZpbGVTaXplICYmIGZpbGUuc2l6ZSA+IHRoaXMubWF4RmlsZVNpemUpIHtcbiAgICAgICAgdGhpcy5maWxlQ291bnRlci0tO1xuICAgICAgICB0aGlzLmlucHV0RWxlbWVudC5uYXRpdmVFbGVtZW50LnZhbHVlID0gJyc7XG4gICAgICAgIHRoaXMuc2hvd0ZpbGVUb29MYXJnZU1lc3NhZ2UgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwbG9hZFN0YXRlQ2hhbmdlZC5lbWl0KGZhbHNlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJlZm9yZVVwbG9hZFJlc3VsdDogVXBsb2FkTWV0YWRhdGEgPSBhd2FpdCB0aGlzLmJlZm9yZVVwbG9hZCh7IGZpbGUsIHVybDogdGhpcy51cmwsIGFib3J0OiBmYWxzZSB9KTtcblxuICAgICAgaWYgKGJlZm9yZVVwbG9hZFJlc3VsdC5hYm9ydCkge1xuICAgICAgICB0aGlzLmZpbGVDb3VudGVyLS07XG4gICAgICAgIHRoaXMuaW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQudmFsdWUgPSAnJztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgICBpbWcuc3JjID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmVmb3JlVXBsb2FkUmVzdWx0LmZpbGUpO1xuXG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCBmaWxlSG9sZGVyOiBGaWxlSG9sZGVyID0gbmV3IEZpbGVIb2xkZXIoZXZlbnQudGFyZ2V0LnJlc3VsdCwgYmVmb3JlVXBsb2FkUmVzdWx0LmZpbGUpO1xuICAgICAgICB0aGlzLmZpbGVzLnB1c2goZmlsZUhvbGRlcik7XG4gICAgICAgIHRoaXMudXBsb2FkU2luZ2xlRmlsZShmaWxlSG9sZGVyLCBiZWZvcmVVcGxvYWRSZXN1bHQudXJsLCBiZWZvcmVVcGxvYWRSZXN1bHQuZm9ybURhdGEpO1xuICAgICAgfSwgZmFsc2UpO1xuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmVmb3JlVXBsb2FkUmVzdWx0LmZpbGUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBsb2FkU2luZ2xlRmlsZShmaWxlSG9sZGVyOiBGaWxlSG9sZGVyLCB1cmwgPSB0aGlzLnVybCwgY3VzdG9tRm9ybT86IHsgW25hbWU6IHN0cmluZ106IGFueSB9KSB7XG4gICAgaWYgKHVybCkge1xuICAgICAgdGhpcy5wZW5kaW5nRmlsZXNDb3VudGVyKys7XG4gICAgICBmaWxlSG9sZGVyLnBlbmRpbmcgPSB0cnVlO1xuXG4gICAgICB0aGlzLmltYWdlU2VydmljZVxuICAgICAgICAudXBsb2FkSW1hZ2UodXJsLCBmaWxlSG9sZGVyLmZpbGUsIHRoaXMuaGVhZGVycywgdGhpcy5wYXJ0TmFtZSwgY3VzdG9tRm9ybSwgdGhpcy53aXRoQ3JlZGVudGlhbHMpXG4gICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgcmVzcG9uc2UgPT4gdGhpcy5vblJlc3BvbnNlKHJlc3BvbnNlLCBmaWxlSG9sZGVyKSxcbiAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2UoZXJyb3IsIGZpbGVIb2xkZXIpO1xuICAgICAgICAgICAgdGhpcy5kZWxldGVGaWxlKGZpbGVIb2xkZXIpO1xuICAgICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwbG9hZEZpbmlzaGVkLmVtaXQoZmlsZUhvbGRlcik7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTW9kdWxlV2l0aFByb3ZpZGVycywgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZpbGVEcm9wRGlyZWN0aXZlIH0gZnJvbSAnLi9maWxlLWRyb3AuZGlyZWN0aXZlJztcbmltcG9ydCB7IEltYWdlVXBsb2FkU2VydmljZSB9IGZyb20gJy4vaW1hZ2UtdXBsb2FkLnNlcnZpY2UnO1xuaW1wb3J0IHsgSW1hZ2VVcGxvYWRDb21wb25lbnQgfSBmcm9tICcuL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQuY29tcG9uZW50JztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW0NvbW1vbk1vZHVsZV0sXG4gIGRlY2xhcmF0aW9uczogW1xuICAgIEltYWdlVXBsb2FkQ29tcG9uZW50LFxuICAgIEZpbGVEcm9wRGlyZWN0aXZlXG4gIF0sXG4gIGV4cG9ydHM6IFtJbWFnZVVwbG9hZENvbXBvbmVudF1cbn0pXG5leHBvcnQgY2xhc3MgSW1hZ2VVcGxvYWRNb2R1bGUge1xuICBzdGF0aWMgZm9yUm9vdCgpOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IEltYWdlVXBsb2FkTW9kdWxlLFxuICAgICAgcHJvdmlkZXJzOiBbSW1hZ2VVcGxvYWRTZXJ2aWNlXVxuICAgIH07XG4gIH1cbn1cbiJdfQ==","map":null,"metadata":{},"sourceType":"module"}